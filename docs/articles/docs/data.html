<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Downloading Data • hypeR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Downloading Data">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">hypeR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Docs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/docs/installation.html">Installation</a>
    </li>
    <li>
      <a href="../../articles/docs/basics.html">Basic Usage</a>
    </li>
    <li>
      <a href="../../articles/docs/data.html">Downloading Data</a>
    </li>
    <li>
      <a href="../../articles/docs/visualize.html">Visualize Results</a>
    </li>
    <li>
      <a href="../../articles/docs/rgsets.html">Constructing Relational Genesets</a>
    </li>
    <li>
      <a href="../../articles/docs/multihyp.html">Multiple Signatures</a>
    </li>
    <li>
      <a href="../../articles/docs/reporting.html">Generating Reports</a>
    </li>
    <li>
      <a href="../../articles/docs/shiny.html">Shiny Applications</a>
    </li>
    <li>
      <a href="../../articles/docs/extending.html">Extending hypeR</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/montilab/hypeR">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Downloading Data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/montilab/hypeR/blob/master/vignettes/docs/data.Rmd"><code>vignettes/docs/data.Rmd</code></a></small>
      <div class="hidden name"><code>data.Rmd</code></div>

    </div>

    
    
<div id="downloading-genesets-from-msigdb" class="section level3">
<h3 class="hasAnchor">
<a href="#downloading-genesets-from-msigdb" class="anchor"></a>Downloading genesets from msigdb</h3>
<p>For most purposes, the genesets hosted by <a href="https://software.broadinstitute.org/gsea/msigdb/collections.jsp">The Molecular Signatures Database</a> are more than adequate to perform geneset enrichment analysis. There are various types of genesets available across many species. Therefore, we have added convenient functions for retrieving msigdb data compatible with <strong>hypeR</strong>.</p>
<div id="available-genesets" class="section level4">
<h4 class="hasAnchor">
<a href="#available-genesets" class="anchor"></a>Available genesets</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="../../reference/msigdb_info.html">msigdb_info</a></span>()</span></code></pre></div>
<pre><code>|------------------------------------------------------------|
| Available Gene Sets                                 v6.2.1 |
|------------------------------------------------------------|
| C1             | Positional (326)                          |
| C2.CGP         | Chemical and Genetic Perturbations (3433) |
| C2.CP          | Canonical Pathways (252)                  |
| C2.CP.BIOCARTA | Canonical BIOCARTA (217)                  |
| C2.CP.KEGG     | Canonical KEGG (186)                      |
| C2.CP.REACTOME | Canonical REACTOME (674)                  |
| C3.MIR         | Motif miRNA Targets (221)                 |
| C3.TFT         | Motif Transcription Factor Targets (615)  |
| C4.CGN         | Cancer Gene Neighborhoods (427)           |
| C4.CM          | Cancer Modules (431)                      |
| C5.BP          | GO Biological Process (4436)              |
| C5.CC          | GO Cellular Component (580)               |
| C5.MF          | GO Molecular Function (901)               |
| C6             | Oncogenic Signatures (189)                |
| C7             | Immunologic Signatures (4872)             |
| H              | Hallmark (50)                             |
|------------------------------------------------------------|
| Source: http://software.broadinstitute.org/gsea/msigdb     |
|------------------------------------------------------------|</code></pre>
</div>
<div id="downloading-and-loading-genesets" class="section level4">
<h4 class="hasAnchor">
<a href="#downloading-and-loading-genesets" class="anchor"></a>Downloading and loading genesets</h4>
<p>Use <code><a href="../../reference/msigdb_download_one.html">msigdb_download_one()</a></code> to download a single geneset into memory.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>HALLMARK &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/msigdb_download_one.html">msigdb_download_one</a></span>(<span class="dt">species=</span><span class="st">"Homo sapiens"</span>, <span class="dt">category=</span><span class="st">"H"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(HALLMARK))</span></code></pre></div>
<pre><code>[1] "HALLMARK_ADIPOGENESIS"        "HALLMARK_ALLOGRAFT_REJECTION"
[3] "HALLMARK_ANDROGEN_RESPONSE"   "HALLMARK_ANGIOGENESIS"       
[5] "HALLMARK_APICAL_JUNCTION"     "HALLMARK_APICAL_SURFACE"     </code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(HALLMARK[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>[1] "ABCA1" "ABCB8" "ACAA2" "ACADL" "ACADM" "ACADS"</code></pre>
<p>Use <code><a href="../../reference/msigdb_download_all.html">msigdb_download_all()</a></code> to retrieve all genesets for a given species. By default, genesets are cached in a temporary directory, therefore a path object is returned. Use the path object with <code><a href="../../reference/msigdb_fetch.html">msigdb_fetch()</a></code> to load genesets into memory. Users can also specify a directory to download to for repeated use.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>msigdb_path &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/msigdb_download_all.html">msigdb_download_all</a></span>(<span class="dt">species=</span><span class="st">"Homo sapiens"</span>)</span></code></pre></div>
<pre><code>v6.2.1
Downloading genesets to...
/var/folders/7j/bg701dss38lc2xq26vt_by240000gn/T//RtmpfvRB4z
- C1 -&gt; 326 Gene Sets 
- C2.CGP -&gt; 3433 Gene Sets 
- C2.CP -&gt; 252 Gene Sets 
- C2.CP.BIOCARTA -&gt; 217 Gene Sets 
- C2.CP.KEGG -&gt; 186 Gene Sets 
- C2.CP.REACTOME -&gt; 674 Gene Sets 
- C3.MIR -&gt; 221 Gene Sets 
- C3.TFT -&gt; 615 Gene Sets 
- C4.CGN -&gt; 427 Gene Sets 
- C4.CM -&gt; 431 Gene Sets 
- C5.BP -&gt; 4436 Gene Sets 
- C5.CC -&gt; 580 Gene Sets 
- C5.MF -&gt; 901 Gene Sets 
- C6 -&gt; 189 Gene Sets 
- C7 -&gt; 4872 Gene Sets 
- H -&gt; 50 Gene Sets </code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>BIOCARTA &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/msigdb_fetch.html">msigdb_fetch</a></span>(msigdb_path, <span class="st">"C2.CP.BIOCARTA"</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a>KEGG     &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/msigdb_fetch.html">msigdb_fetch</a></span>(msigdb_path, <span class="st">"C2.CP.KEGG"</span>)</span>
<span id="cb10-3"><a href="#cb10-3"></a>REACTOME &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/msigdb_fetch.html">msigdb_fetch</a></span>(msigdb_path, <span class="st">"C2.CP.REACTOME"</span>)</span></code></pre></div>
<p>In this example, we are interested in all three of the following genesets, therefore we concatenate them. A geneset is simply a named list of vectors, therefore, one can use any custom genesets in their analysis, as long as it’s appropriately defined.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>gsets &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(BIOCARTA, KEGG, REACTOME)</span></code></pre></div>
</div>
</div>
<div id="defining-custom-genesets" class="section level3">
<h3 class="hasAnchor">
<a href="#defining-custom-genesets" class="anchor"></a>Defining custom genesets</h3>
<p>As mentioned previously, one can use custom genesets with <strong>hypeR</strong>. In this example, we download one of the many publicly available genesets hosted by <a href="https://amp.pharm.mssm.edu/Enrichr/">Enrichr</a>. Once downloaded, one performs enrichment as normal.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>url =<span class="st"> "http://amp.pharm.mssm.edu/Enrichr/geneSetLibrary?mode=text&amp;libraryName=Cancer_Cell_Line_Encyclopedia"</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>r &lt;-<span class="st"> </span>httr<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/httr/topics/GET">GET</a></span>(url)</span>
<span id="cb12-3"><a href="#cb12-3"></a>text &lt;-<span class="st"> </span>httr<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/httr/topics/content">content</a></span>(r, <span class="st">"text"</span>, <span class="dt">encoding=</span><span class="st">"ISO-8859-1"</span>)</span>
<span id="cb12-4"><a href="#cb12-4"></a>text.split &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/strsplit">strsplit</a></span>(text, <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)[[<span class="dv">1</span>]]</span>
<span id="cb12-5"><a href="#cb12-5"></a>gsets &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">sapply</a></span>(text.split, <span class="cf">function</span>(x) {</span>
<span id="cb12-6"><a href="#cb12-6"></a>    genes &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/strsplit">strsplit</a></span>(x, <span class="st">"</span><span class="ch">\t</span><span class="st">"</span>)[[<span class="dv">1</span>]]</span>
<span id="cb12-7"><a href="#cb12-7"></a>    <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/function">return</a></span>(genes[<span class="dv">3</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/length">length</a></span>(genes)])</span>
<span id="cb12-8"><a href="#cb12-8"></a>})</span>
<span id="cb12-9"><a href="#cb12-9"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(gsets) &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/unlist">unlist</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">lapply</a></span>(text.split, <span class="cf">function</span>(x) <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/strsplit">strsplit</a></span>(x, <span class="st">"</span><span class="ch">\t</span><span class="st">"</span>)[[<span class="dv">1</span>]][<span class="dv">1</span>]))</span></code></pre></div>
</div>
<div id="downloading-genesets-from-hyperdb" class="section level3">
<h3 class="hasAnchor">
<a href="#downloading-genesets-from-hyperdb" class="anchor"></a>Downloading genesets from hyperdb</h3>
<p>If msigdb genesets are not sufficient, we have also provided another set of functions for downloading and loading other open source genesets. Essentially, we wrap the method used in the example defining custom genesets. This is facilitated by interfacing with the publicly available <a href="https://amp.pharm.mssm.edu/Enrichr/#stats">libraries</a> hosted by <a href="https://amp.pharm.mssm.edu/Enrichr/">Enrichr</a>.</p>
<div id="downloading-and-loading-genesets-1" class="section level4">
<h4 class="hasAnchor">
<a href="#downloading-and-loading-genesets-1" class="anchor"></a>Downloading and loading genesets</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>gsets &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/hyperdb_fetch.html">hyperdb_fetch</a></span>(<span class="dt">type=</span><span class="st">"gsets"</span>, <span class="st">"Cancer_Cell_Line_Encyclopedia"</span>)</span></code></pre></div>
</div>
<div id="available-genesets-1" class="section level4">
<h4 class="hasAnchor">
<a href="#available-genesets-1" class="anchor"></a>Available genesets</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw"><a href="../../reference/hyperdb_info.html">hyperdb_info</a></span>(<span class="dt">type=</span><span class="st">"gsets"</span>, <span class="dt">quiet=</span><span class="ot">TRUE</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">15</span>]</span></code></pre></div>
<pre><code>Getting available gsets ... </code></pre>
<pre><code> [1] "ARCHS4_Cell-lines"                
 [2] "ARCHS4_IDG_Coexp"                 
 [3] "ARCHS4_Kinases_Coexp"             
 [4] "ARCHS4_TFs_Coexp"                 
 [5] "ARCHS4_Tissues"                   
 [6] "Achilles_fitness_decrease"        
 [7] "Achilles_fitness_increase"        
 [8] "Aging_Perturbations_from_GEO_down"
 [9] "Aging_Perturbations_from_GEO_up"  
[10] "Allen_Brain_Atlas_down"           
[11] "Allen_Brain_Atlas_up"             
[12] "BioCarta_2013"                    
[13] "BioCarta_2015"                    
[14] "BioCarta_2016"                    
[15] "BioPlex_2017"                     </code></pre>
</div>
<div id="available-relational-genesets" class="section level4">
<h4 class="hasAnchor">
<a href="#available-relational-genesets" class="anchor"></a>Available relational genesets</h4>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw"><a href="../../reference/hyperdb_info.html">hyperdb_info</a></span>(<span class="dt">type=</span><span class="st">"rgsets"</span>, <span class="dt">quiet=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>Getting available rgsets ... </code></pre>
<pre><code>[1] "KEGG"     "REACTOME"</code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/anfederico">Anthony Federico</a>, <a href="https://github.com/montilab">Stefano Monti</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
